<<<<<<< HEAD
import Pool from 'undici-types/pool'
import MockAgent from 'undici-types/mock-agent'
import { Interceptable, MockInterceptor } from 'undici-types/mock-interceptor'
import Dispatcher from 'undici-types/dispatcher'
=======
import Pool from './pool'
import MockAgent from './mock-agent'
import { Interceptable, MockInterceptor } from './mock-interceptor'
import Dispatcher from './dispatcher'
>>>>>>> 9215355b9a64a1da98c7053629e7386d81404871

export default MockPool

/** MockPool extends the Pool API and allows one to mock requests. */
declare class MockPool extends Pool implements Interceptable {
  constructor (origin: string, options: MockPool.Options)
  /** Intercepts any matching requests that use the same origin as this mock pool. */
  intercept (options: MockInterceptor.Options): MockInterceptor
  /** Dispatches a mocked request. */
  dispatch (options: Dispatcher.DispatchOptions, handlers: Dispatcher.DispatchHandler): boolean
  /** Closes the mock pool and gracefully waits for enqueued requests to complete. */
  close (): Promise<void>
  /** Clean up all the prepared mocks. */
  cleanMocks (): void
}

declare namespace MockPool {
  /** MockPool options. */
  export interface Options extends Pool.Options {
    /** The agent to associate this MockPool with. */
    agent: MockAgent;
  }
}
